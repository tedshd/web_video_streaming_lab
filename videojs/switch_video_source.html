<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>switch_video_source</title>
<link href="//vjs.zencdn.net/5.4.6/video-js.min.css" rel="stylesheet">
<script src="//vjs.zencdn.net/5.4.6/video.min.js"></script>
</head>
<body>
    <video id="player" class="video-js vjs-default-skin">
        <!-- <source src="No_Man's_Sky_20160930.mp4" type="video/mp4" /> -->
        <!-- <source /> -->
        <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
    </video>
    <button id="next">NEXT</button>
</body>
<script>
var list = [
    {
        type: 'video/mp4',
        src: 'No_Man\'s_Sky_20160930.mp4'
    },
    {
        type: 'rtmp/mp4',
        src: 'rtmp://cp67126.edgefcs.net/ondemand/&mp4:mediapm/ovp/content/test/video/spacealonehd_sounas_640_300.mp4'
    }
];
var count = 0;
var html5Player= videojs(
    document.getElementById('player'), {
        'controls': true,
        'autoplay': false,
        'preload': 'auto',
        'loop': true,
        "width": 640,
        "height": 480,
        // 'poster': 'cover.jpg'
    },
    function() {
        // This is functionally the same as the previous example.
    }
).ready(function() {
    var myPlayer = this;
    myPlayer.src(list[count]);
    // EXAMPLE: Start playing the video.
    myPlayer.play();
    // setTimeout(function () {
    //     myPlayer.pause();
    // }, 3000);
});
document.querySelector('#next').addEventListener('click', function() {
    count++;
    console.log(count);
    html5Player.pause();
    // html5Player.dispose();
    html5Player.src(list[count]);
    html5Player.play();
    if (count === (list.length -1)) {
        count = -1;
    }
});
</script>
</html>